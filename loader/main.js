class DModifier {
    constructor() {
        this.token = Math.random().toString(36).substring(2)
        this.id = 1;
    }

    addHook(callback) {
        window.webpackChunkdiscord_app.push([[
            `__${this.id++}__${this.token}__`,
        ], {}, function (__export__) {
            let keyed = Object.keys(__export__.c).map(function (module, __unused__) {
                if (__export__.c[module].exports) {
                    return __export__.c[module].exports
                }
            }).filter(function(module) {
                return module
            })
            callback.call(this, keyed)
        }])
    }
}

export default DModifier